{% extends "base.html" %}

{% block content %}
    <div class="container mt-5">
        <h2 class="mb-4">Manage Appointments</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Patient Name</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for appointment in appointments %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ appointment.patient_name }}</td>
                    <td>{{ appointment.date }}</td>
                    <td>{{ appointment.time }}</td>
                    <td>{{ appointment.status }}</td>
                    <td class="action-icons">
                        <i class="bi bi-check-circle" title="Approve" onclick="approveAppointment('{{ appointment.id }}')"></i>
                        <i class="bi bi-trash" title="Delete" onclick="deleteAppointment('{{ appointment.id }}')"></i>
                        <i class="bi bi-calendar-event" title="Reschedule" onclick="rescheduleAppointment('{{ appointment.id }}')"></i>
                        <i class="bi bi-check-square" title="Mark as Complete" onclick="markAsComplete('{{ appointment.id }}')"></i>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        // Example GSAP animation for table rows
        gsap.from("tr", { opacity: 0, y: 20, duration: 0.5, stagger: 0.1 });

        function approveAppointment(id) {
            alert(`Approve appointment with ID: ${id}`);
        }

        function deleteAppointment(id) {
            alert(`Delete appointment with ID: ${id}`);
        }

        function rescheduleAppointment(id) {
            alert(`Reschedule appointment with ID: ${id}`);
        }

        function markAsComplete(id) {
            alert(`Mark appointment with ID: ${id} as complete`);
        }
    </script>

{% endblock %} 